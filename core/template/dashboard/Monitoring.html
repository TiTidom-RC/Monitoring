<div class="eqLogic eqLogic-widget text-center allowResize #custom_layout# #eqLogic_class# #class# #category#" data-eqType="#eqType#" data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" data-translate-category="#translate_category#" data-category="#category#" data-tags="#tags#" style="width: #width#;height: #height#;#style#;">
	<style>
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] .cmd.monitor-btn {
			font-size: 12px !important;
		}
		div.eqLogic-widget[data-eqLogic_uid="#uid#"].editingMode .cmd.monitor-btn {
			display: none !important;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.widget-name.monitor-name-flex {
			display: flex;
			justify-content: space-between;
			padding-left: 5px !important;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-name-left {
			display: flex;
			flex: 0 1 auto;
			float: left;
			justify-content: flex-start;
			align-items: center;
			box-sizing: border-box;
		}
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-name-left span:not(:empty) {
			padding-right: 3px;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.widget-name {
			overflow: auto;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.widget-name.monitor-name-center {
			display: flex;
			flex: 1 1 auto;
			justify-content: center;
			text-align: center;
			padding-left: 5px;
			padding-right: 5px;
			box-sizing: border-box;
		}
		
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.widget-name.monitor-name-center a {
			overflow: hidden !important;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-name-right {
			display: flex;
			flex: 0 1 auto;
			float: right;
			justify-content: flex-end;
			align-items: center;
			box-sizing: border-box;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-name-right .cmd.refresh {
			margin-top: unset !important;
			padding-right: 5px;
			color: inherit !important;
		}
		
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-cmds {
			display: block;
			text-align: left;
			padding-left: 5px;
			overflow: auto;
			white-space: nowrap;
			width: 100%;
			height: calc(100% - 24px);
			box-sizing: border-box;
		}
	</style>
	<div class="widget-name monitor-name-flex">
		<div class="monitor-name-left">
			<span id="iconSSH#id#" class="cmd monitor-btn"></span>
			<script>
			(() => {
				'use strict'
				const iconSSH = document.getElementById('iconSSH#id#')
				if (!iconSSH) return
				
				if ('#cnx_ssh#' === 'OK') {
					iconSSH.innerHTML = '<i title="Connexion SSH OK" class="cmd monitor-btn fas fa-check tooltips" style="color: var(--al-success-color) !important;"></i>'
				} else if ('#cnx_ssh#' === 'KO') {
					iconSSH.innerHTML = '<i title="Connexion SSH KO" class="cmd monitor-btn fas fa-times-circle tooltips" style="color: var(--al-danger-color) !important;"></i>'
				}
			})()
			</script>
			<span id="iconCron#id#" class="cmd monitor-btn"></span>
			<script>
			(() => {
				'use strict'
				const iconCron = document.getElementById('iconCron#id#')
				if (!iconCron) return
				
				const isOn = '#cron_status#' === '1'
				const isCustom = '#cron_status_custom#' === '1'
				const display = '#cron_status_display#'
				
				const icon = isOn ? 'play-circle' : 'pause-circle'
				const label = isOn ? 'ON' : 'OFF'
				const customLabel = isCustom ? 'Custom' : 'Default'
				const color = isCustom ? '--al-warning-color' : (isOn ? '--al-success-color' : '--al-danger-color')
			
				iconCron.innerHTML = `<i title="Cron ${label} (${customLabel})" class="cmd monitor-btn fas fa-${icon} tooltips" style="display: ${display};color: var(${color}) !important;"></i>`
			})()
			</script>
			<span class="cmd action reboot cursor" title="Redémarrer l'équipement"  data-type="action" data-subtype="other" data-cmd_id="#cmd_reboot_id#" style="display: #cmd_reboot_display#;">
				<i class="cmd monitor-btn fas fa-redo"></i>
			</span>
			<script>
				(() => {
					'use strict'
					const rebootBtn = document.querySelector('.reboot[data-cmd_id="#cmd_reboot_id#"]')
					rebootBtn?.addEventListener('click', () => {
						jeeDialog.confirm({
							title: '<i class="warning fas fa-question-circle"></i> Redémarrer l\'équipement',
							message: 'Etes-vous sûr de vouloir redémarrer l\'équipement #name# ?',
							buttons: {
								confirm: { label: 'Redémarrer', className: 'warning' },
								cancel: { label: 'Annuler', className: 'info' }
							},
							callback: (result) => {
								if (result) jeedom.cmd.execute({ id: '#cmd_reboot_id#' })
							}
						})
					})
			})()
			</script>
			<span class="cmd action poweroff cursor" title="Eteindre l'équipement"  data-type="action" data-subtype="other" data-cmd_id="#cmd_poweroff_id#" style="display: #cmd_poweroff_display#;">
				<i class="cmd monitor-btn fas fa-power-off"></i>
			</span>
			<script>
			(() => {
				'use strict'
				const poweroffBtn = document.querySelector('.poweroff[data-cmd_id="#cmd_poweroff_id#"]')
				poweroffBtn?.addEventListener('click', () => {
					jeeDialog.confirm({
						title: '<i class="danger fas fa-question-circle"></i> Eteindre l\'équipement',
						message: 'Etes-vous sûr de vouloir éteindre l\'équipement #name# ?',
						buttons: {
							confirm: { label: 'Eteindre', className: 'danger' },
							cancel: { label: 'Annuler', className: 'info' }
						},
						callback: (result) => {
							if (result) jeedom.cmd.execute({ id: '#cmd_poweroff_id#' })
						}
					})
				})
			})()
			</script>
		</div>
		<div class="widget-name monitor-name-center">
			<span class="reportModeVisible">#name_display# <span class="object_name">#object_name#</span></span>
			<a href="#eqLink#" class="reportModeHidden">#name_display# <span class="object_name">#object_name#</span></a>
		</div>
		<div class="monitor-name-right">	
			<span class="cmd refresh cursor" title="Rafraîchir" data-cmd_id="#refresh_id#">
				<i class="fas fa-sync"></i>
			</span>
		</div>
		<script>
		(() => {
			'use strict'
			const refreshBtn = document.querySelector('.eqLogic[data-eqLogic_uid="#uid#"] .refresh')
			if (!refreshBtn) return
			
			if ('#refresh_id#' !== '') {
				refreshBtn.addEventListener('click', () => jeedom.cmd.execute({ id: '#refresh_id#' }))
			} else {
				refreshBtn.remove()
			}
		})()
		</script>
	</div>
	<div class="monitor-cmds">
		<div class="tooltips" style="display: #distri_name_display#;">
			<span title="Distribution Linux<br><i>Date de valeur : #distri_name_value#<br>Date de collecte : #distri_name_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#distri_name_icon#</span>
			<span>#distri_name#</span>
		</div>
		<div class="tooltips" style="display: #uptime_display#;">
			<span title="Temps d'Activité (UpTime)<br><i>Date de valeur : #uptime_value#<br>Date de collecte : #uptime_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#uptime_icon#</span>
			<span id="uptime#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' === 'OK' || '#cnx_ssh#' === 'No') {
				const uptimeEl = document.getElementById('uptime#id#')
				if (uptimeEl) uptimeEl.innerHTML = '<span>#uptime#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #load_avg_display#;">
			<span title="Charge Système (Load Average)<br><i>Date de valeur : #load_avg_value#<br>Date de collecte : #load_avg_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#load_avg_icon#</span>
			<span id="load_avg_1mn#id#"></span><span id="load_avg_5mn#id#"></span><span id="load_avg_15mn#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			// Helper function to generate threshold-based HTML with color
			const buildThresholdHTML = (value, lowThreshold, highThreshold, label, cmdId, history, tendance, reversed = false) => {
				if (value === '') return '<span></span>'
				
				const val = parseFloat(value)
				const low = parseFloat(lowThreshold)
				const high = parseFloat(highThreshold)
				const title = `Stats : Charge Système (${label})<br>Min: ${history.min} | Moy : ${history.avg} | Max : ${history.max}`
				const baseHtml = `<span title="${title}" data-cmd_id="${cmdId}" class="value history cursor tooltips"`
				
				let color = ''
				if (reversed) {
					// For reversed thresholds (like free percentages): high is good
					if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
					else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
					else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
				} else {
					// For normal thresholds (like load avg): low is good
					if (val < low) color = ' style="color: var(--al-success-color) !important;"'
					else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
					else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
				}
				
				return `${baseHtml}${color}>${value}${tendance}</span>`
			}
			
			// Load avg 1mn
			const loadAvg1mn = document.getElementById('load_avg_1mn#id#')
			if (loadAvg1mn) {
				const html = buildThresholdHTML(
					'#load_avg_1mn#', '#load_avg_1mn_colorlow#', '#load_avg_1mn_colorhigh#',
					'1min', '#load_avg_1mn_id#',
					{ min: '#load_avg_1mn_minHistory#', avg: '#load_avg_1mn_averageHistory#', max: '#load_avg_1mn_maxHistory#' },
					'#load_avg_1mn_tendance#'
				)
				loadAvg1mn.innerHTML = html === '<span></span>' ? html : `1 min : ${html}`
			}
			
			// Load avg 5mn
			const loadAvg5mn = document.getElementById('load_avg_5mn#id#')
			if (loadAvg5mn) {
				const html = buildThresholdHTML(
					'#load_avg_5mn#', '#load_avg_5mn_colorlow#', '#load_avg_5mn_colorhigh#',
					'5min', '#load_avg_5mn_id#',
					{ min: '#load_avg_5mn_minHistory#', avg: '#load_avg_5mn_averageHistory#', max: '#load_avg_5mn_maxHistory#' },
					'#load_avg_5mn_tendance#'
				)
				loadAvg5mn.innerHTML = html === '<span></span>' ? html : ` - 5 min : ${html}`
			}
			
			// Load avg 15mn
			const loadAvg15mn = document.getElementById('load_avg_15mn#id#')
			if (loadAvg15mn) {
				const html = buildThresholdHTML(
					'#load_avg_15mn#', '#load_avg_15mn_colorlow#', '#load_avg_15mn_colorhigh#',
					'15min', '#load_avg_15mn_id#',
					{ min: '#load_avg_15mn_minHistory#', avg: '#load_avg_15mn_averageHistory#', max: '#load_avg_15mn_maxHistory#' },
					'#load_avg_15mn_tendance#'
				)
				loadAvg15mn.innerHTML = html === '<span></span>' ? html : ` - 15 min : ${html}`
			}
		})()
		</script>
		<div class="tooltips" style="display: #memory_display#;">
			<span title="Mémoire Vive (% Disponible)<br><i>Date de valeur : #memory_value#<br>Date de collecte : #memory_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#memory_icon#</span>
			<span id="memory_available_percent#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const memoryEl = document.getElementById('memory_available_percent#id#')
			if (!memoryEl) return
			
			const value = '#memory_available_percent#'
			if (value === '') {
				memoryEl.innerHTML = '<span>#memory#</span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#memory_available_percent_colorlow#')
			const high = parseFloat('#memory_available_percent_colorhigh#')
			const title = 'Stats : Mémoire Vive (% Disponible)<br>Min: #memory_available_percent_minHistory# | Moy : #memory_available_percent_averageHistory# | Max : #memory_available_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = better (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			memoryEl.innerHTML = `#memory# (<span title="${title}" data-cmd_id="#memory_available_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#memory_available_percent_tendance#</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #swap_display#;">
			<span title="Mémoire Swap (% Libre)<br><i>Date de valeur : #swap_value#<br>Date de collecte : #swap_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#swap_icon#</span>
			<span id="swap_free_percent#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const swapEl = document.getElementById('swap_free_percent#id#')
			if (!swapEl) return
			
			const value = '#swap_free_percent#'
			if (value === '') {
				swapEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#swap_free_percent_colorlow#')
			const high = parseFloat('#swap_free_percent_colorhigh#')
			const title = 'Stats : Mémoire Swap (% Libre)<br>Min: #swap_free_percent_minHistory# | Moy : #swap_free_percent_averageHistory# | Max : #swap_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = better (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			swapEl.innerHTML = `#swap# (<span title="${title}" data-cmd_id="#swap_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#swap_free_percent_tendance#</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #network_infos_display#;">
			<span title="Infos Réseau<br><i>Date de valeur : #network_infos_value#<br>Date de collecte : #network_infos_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#network_infos_icon#</span>
			<span id="network_infos#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' === 'OK' || '#cnx_ssh#' === 'No') {
				const networkInfosEl = document.getElementById('network_infos#id#')
				if (networkInfosEl) networkInfosEl.innerHTML = '<span>#network_infos#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #network_display#;">
			<span title="Trafic Réseau (#network_name# / #network_ip#)<br><i>Date de valeur : #network_value#<br>Date de collecte : #network_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#network_icon#</span>
			<span id="network#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' === 'OK' || '#cnx_ssh#' === 'No') {
				const networkEl = document.getElementById('network#id#')
				if (networkEl) networkEl.innerHTML = '<span>#network#</span>'
			}
		})()
		</script>
		<!-- Cartes réseau supplémentaires -->
		#multi_network_cards#
		<div class="tooltips" style="display: #hdd_display#;">
			<span title="Espace Disque (% Libre)<br><i>Date de valeur : #hdd_value#<br>Date de collecte : #hdd_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#hdd_icon#</span>
			<span id="hdd#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const hddEl = document.getElementById('hdd#id#')
			if (!hddEl) return
			
			const value = '#hdd_free_percent#'
			if (value === '') {
				hddEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#hdd_free_percent_colorlow#')
			const high = parseFloat('#hdd_free_percent_colorhigh#')
			const title = 'Stats : Espace Disque (% Libre)<br>Min: #hdd_free_percent_minHistory# | Moy : #hdd_free_percent_averageHistory# | Max : #hdd_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = better (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			hddEl.innerHTML = `#hdd# (<span title="${title}" data-cmd_id="#hdd_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#hdd_free_percent_tendance#</span>)`
		})()
		</script>
		<div id="syno_hddv2#id#"></div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			if ('#syno_hddv2_display#' !== 'block') return
			
			const container = document.getElementById('syno_hddv2#id#')
			if (!container) return
			
			container.className = 'tooltips'
			container.style.display = '#syno_hddv2_display#'
			container.innerHTML = '<span title="Syno Volume 2 (% Libre)<br><i>Date de valeur : #syno_hddv2_value#<br>Date de collecte : #syno_hddv2_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#syno_hddv2_icon#</span> <span id="syno_hddv2_free_percent#id#"></span>'
			
			const percentEl = document.getElementById('syno_hddv2_free_percent#id#')
			if (!percentEl) return
			
			const value = '#syno_hddv2_free_percent#'
			if (value === '') {
				percentEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#syno_hddv2_free_percent_colorlow#')
			const high = parseFloat('#syno_hddv2_free_percent_colorhigh#')
			const title = 'Stats : Syno Volume 2 (% Libre)<br>Min: #syno_hddv2_free_percent_minHistory# | Moy : #syno_hddv2_free_percent_averageHistory# | Max : #syno_hddv2_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = better (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			percentEl.innerHTML = `#syno_hddv2# (<span title="${title}" data-cmd_id="#syno_hddv2_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#syno_hddv2_free_percent_tendance#</span>)`
		})()
		</script>
		<div id="syno_hddv3#id#"></div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			if ('#syno_hddv3_display#' !== 'block') return
			
			const container = document.getElementById('syno_hddv3#id#')
			if (!container) return
			
			container.className = 'tooltips'
			container.style.display = '#syno_hddv3_display#'
			container.innerHTML = '<span title="Syno Volume 3 (% Libre)<br><i>Date de valeur : #syno_hddv3_value#<br>Date de collecte : #syno_hddv3_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#syno_hddv3_icon#</span> <span id="syno_hddv3_free_percent#id#"></span>'
			
			const percentEl = document.getElementById('syno_hddv3_free_percent#id#')
			if (!percentEl) return
			
			const value = '#syno_hddv3_free_percent#'
			if (value === '') {
				percentEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#syno_hddv3_free_percent_colorlow#')
			const high = parseFloat('#syno_hddv3_free_percent_colorhigh#')
			const title = 'Stats : Syno Volume 3 (% Libre)<br>Min: #syno_hddv3_free_percent_minHistory# | Moy : #syno_hddv3_free_percent_averageHistory# | Max : #syno_hddv3_free_percent_maxHistory#'
			
			let color = ''
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			percentEl.innerHTML = `#syno_hddv3# (<span title="${title}" data-cmd_id="#syno_hddv3_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#syno_hddv3_free_percent_tendance#</span>)`
		})()
		</script>
		<div id="syno_hddv4#id#"></div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			if ('#syno_hddv4_display#' !== 'block') return
			
			const container = document.getElementById('syno_hddv4#id#')
			if (!container) return
			
			container.className = 'tooltips'
			container.style.display = '#syno_hddv4_display#'
			container.innerHTML = '<span title="Syno Volume 4 (% Libre)<br><i>Date de valeur : #syno_hddv4_value#<br>Date de collecte : #syno_hddv4_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#syno_hddv4_icon#</span> <span id="syno_hddv4_free_percent#id#"></span>'
			
			const percentEl = document.getElementById('syno_hddv4_free_percent#id#')
			if (!percentEl) return
			
			const value = '#syno_hddv4_free_percent#'
			if (value === '') {
				percentEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#syno_hddv4_free_percent_colorlow#')
			const high = parseFloat('#syno_hddv4_free_percent_colorhigh#')
			const title = 'Stats : Syno Volume 4 (% Libre)<br>Min: #syno_hddv4_free_percent_minHistory# | Moy : #syno_hddv4_free_percent_averageHistory# | Max : #syno_hddv4_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = more free space (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			percentEl.innerHTML = `#syno_hddv4# (<span title="${title}" data-cmd_id="#syno_hddv4_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#syno_hddv4_free_percent_tendance#</span>)`
		})()
		</script>
		<div id="syno_hddusb#id#"></div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			if ('#syno_hddusb_display#' !== 'block') return
			
			const container = document.getElementById('syno_hddusb#id#')
			if (!container) return
			
			container.className = 'tooltips'
			container.style.display = '#syno_hddusb_display#'
			container.innerHTML = '<span title="Syno Volume USB (% Libre)<br><i>Date de valeur : #syno_hddusb_value#<br>Date de collecte : #syno_hddusb_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#syno_hddusb_icon#</span> <span id="syno_hddusb_free_percent#id#"></span>'
			
			const percentEl = document.getElementById('syno_hddusb_free_percent#id#')
			if (!percentEl) return
			
			const value = '#syno_hddusb_free_percent#'
			if (value === '') {
				percentEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#syno_hddusb_free_percent_colorlow#')
			const high = parseFloat('#syno_hddusb_free_percent_colorhigh#')
			const title = 'Stats : Syno Volume USB (% Libre)<br>Min: #syno_hddusb_free_percent_minHistory# | Moy : #syno_hddusb_free_percent_averageHistory# | Max : #syno_hddusb_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = more free space (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			percentEl.innerHTML = `#syno_hddusb# (<span title="${title}" data-cmd_id="#syno_hddusb_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#syno_hddusb_free_percent_tendance#</span>)`
		})()
		</script>
		<div id="syno_hddesata#id#"></div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			if ('#syno_hddesata_display#' !== 'block') return
			
			const container = document.getElementById('syno_hddesata#id#')
			if (!container) return
			
			container.className = 'tooltips'
			container.style.display = '#syno_hddesata_display#'
			container.innerHTML = '<span title="Syno Volume eSATA (% Libre)<br><i>Date de valeur : #syno_hddesata_value#<br>Date de collecte : #syno_hddesata_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#syno_hddesata_icon#</span> <span id="syno_hddesata_free_percent#id#"></span>'
			
			const percentEl = document.getElementById('syno_hddesata_free_percent#id#')
			if (!percentEl) return
			
			const value = '#syno_hddesata_free_percent#'
			if (value === '') {
				percentEl.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#syno_hddesata_free_percent_colorlow#')
			const high = parseFloat('#syno_hddesata_free_percent_colorhigh#')
			const title = 'Stats : Syno Volume eSATA (% Libre)<br>Min: #syno_hddesata_free_percent_minHistory# | Moy : #syno_hddesata_free_percent_averageHistory# | Max : #syno_hddesata_free_percent_maxHistory#'
			
			let color = ''
			// Reversed thresholds: higher percentage = more free space (green)
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			percentEl.innerHTML = `#syno_hddesata# (<span title="${title}" data-cmd_id="#syno_hddesata_free_percent_id#" class="value history cursor tooltips"${color}>${value}</span><span>%#syno_hddesata_free_percent_tendance#</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #cpu_display#;">
			<span title="Nombre CPU - Fréquence (Température)<br><i>Date de valeur : #cpu_value#<br>Date de collecte : #cpu_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#cpu_icon#</span>
			<span id="cpu#id#"></span><span id="cpu_temp#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const cpuEl = document.getElementById('cpu#id#')
			if (!cpuEl) return
			
			if ('#cpu_temp#' !== '' && '#cpu_temp_display#' === 'block') {
				cpuEl.innerHTML = '<span>#cpu# </span>'
				
				const tempEl = document.getElementById('cpu_temp#id#')
				if (!tempEl) return
				
				const temp = parseFloat('#cpu_temp#')
				const low = parseFloat('#cpu_temp_colorlow#')
				const high = parseFloat('#cpu_temp_colorhigh#')
				const title = 'Stats : Température CPU<br>Min: #cpu_temp_minHistory# | Moy : #cpu_temp_averageHistory# | Max : #cpu_temp_maxHistory#'
				
				let color = ''
				// Normal thresholds: lower temp = green, higher temp = red
				if (temp < low) color = ' style="color: var(--al-success-color) !important;"'
				else if (temp >= low && temp <= high) color = ' style="color: var(--al-warning-color) !important;"'
				else if (temp > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
				
				tempEl.innerHTML = `(<span title="${title}" data-cmd_id="#cpu_temp_id#" class="value history cursor tooltips"${color}>#cpu_temp#</span><span>°C#cpu_temp_tendance#</span>)`
			} else {
				cpuEl.innerHTML = '<span>#cpu#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #perso1_display#;">
			<span title="#perso1_name#<br><i>Date de valeur : #perso1_value#<br>Date de collecte : #perso1_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#perso1_icon#</span>
			<span id="perso1_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso1_unite#id#')
			if (!el) return
			
			const value = '#perso1#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso1_colorlow#')
			const high = parseFloat('#perso1_colorhigh#')
			const title = 'Stats : #perso1_name#<br>Min: #perso1_minHistory# | Moy : #perso1_averageHistory# | Max : #perso1_maxHistory#'
			
			let color = ''
			// Normal thresholds: lower = green, higher = red
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `<span title="${title}" data-cmd_id="#perso1_id#" class="value history cursor tooltips"${color}>${value}</span><span>#perso1_unite##perso1_tendance#</span>`
		})()
		</script>
		<div class="tooltips" style="display: #perso2_display#;">
			<span title="#perso2_name#<br><i>Date de valeur : #perso2_value#<br>Date de collecte : #perso2_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#perso2_icon#</span>
			<span id="perso2_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso2_unite#id#')
			if (!el) return
			
			const value = '#perso2#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso2_colorlow#')
			const high = parseFloat('#perso2_colorhigh#')
			const title = 'Stats : #perso2_name#<br>Min: #perso2_minHistory# | Moy : #perso2_averageHistory# | Max : #perso2_maxHistory#'
			
			let color = ''
			// Normal thresholds: lower = green, higher = red
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `<span title="${title}" data-cmd_id="#perso2_id#" class="value history cursor tooltips"${color}>${value}</span><span>#perso2_unite##perso2_tendance#</span>`
		})()
		</script>
		<div class="tooltips" style="display: #perso3_display#;">
			<span title="#perso3_name#<br><i>Date de valeur : #perso3_value#<br>Date de collecte : #perso3_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#perso3_icon#</span>
			<span id="perso3_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso3_unite#id#')
			if (!el) return
			
			const value = '#perso3#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso3_colorlow#')
			const high = parseFloat('#perso3_colorhigh#')
			const title = 'Stats : #perso3_name#<br>Min: #perso3_minHistory# | Moy : #perso3_averageHistory# | Max : #perso3_maxHistory#'
			
			let color = ''
			// Normal thresholds: lower = green, higher = red
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `<span title="${title}" data-cmd_id="#perso3_id#" class="value history cursor tooltips"${color}>${value}</span><span>#perso3_unite##perso3_tendance#</span>`
		})()
		</script>
		<div class="tooltips" style="display: #perso4_display#;">
			<span title="#perso4_name#<br><i>Date de valeur : #perso4_value#<br>Date de collecte : #perso4_collect#</i>" style="width:15px;max-width:15px;max-height:15px;">#perso4_icon#</span>
			<span id="perso4_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso4_unite#id#')
			if (!el) return
			
			const value = '#perso4#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso4_colorlow#')
			const high = parseFloat('#perso4_colorhigh#')
			const title = 'Stats : #perso4_name#<br>Min: #perso4_minHistory# | Moy : #perso4_averageHistory# | Max : #perso4_maxHistory#'
			
			let color = ''
			// Normal thresholds: lower = green, higher = red
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `<span title="${title}" data-cmd_id="#perso4_id#" class="value history cursor tooltips"${color}>${value}</span><span>#perso4_unite##perso4_tendance#</span>`
		})()
		</script>
	</div>
	#divGraphInfo#
</div>
