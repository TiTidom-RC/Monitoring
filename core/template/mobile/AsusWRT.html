<div class="eqLogic eqLogic-widget col2" data-eqLogic_id="#id#" data-eqType="#eqType#" data-version="#version#" data-eqLogic_uid="#uid#" data-translate-category="#translate_category#" data-category="#category#" data-tags="#tags#" style="#style#">
	<style>
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-flex {
			display: flex;
			justify-content: space-between;
			padding-left: 5px !important;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-left {
			display: flex;
			flex: 0 1 auto;
			float: left;
			justify-content: flex-start;
			align-items: center;
		}
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-left span:not(:empty) {
			padding-right: 5px;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-center {
			display: flex;
			flex: 1 1 auto;
			justify-content: center;
			text-align: center;
			overflow: hidden;
		}
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-center span {
			justify-content: center;
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-center .widget-name {
			display: flex;
			flex: 1 1 auto;
			padding-left: 6px;
			padding-right: 6px;
		}
		
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-right {
			display: flex;
			flex: 0 1 auto;
			float: right;
			justify-content: flex-end;
			align-items: center;
			padding-left: 5px;
		}
		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-right .refresh {
			position: relative;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] span.monitor-name-right i {
			margin-top: unset !important;
			padding-right: 5px;
			color: inherit !important;
		}

		div.eqLogic-widget[data-eqLogic_uid="#uid#"] div.monitor-cmds {
			display: block;
			text-align: left;
			padding-left: 5px;
			overflow: auto;
			white-space: nowrap;
			width: 100%;
			height: calc(100% - 24px);
			box-sizing: border-box;
		}
	</style>
	<span class="monitor-name-flex">
		<span class="monitor-name-left">
			<span class="cmd" id="iconSSH#id#"></span>
			<script>
			(() => {
				'use strict'
				const el = document.getElementById('iconSSH#id#')
				if (!el) return
				
				if ('#cnx_ssh#' === 'OK') {
					el.innerHTML = '<i title="Connexion SSH OK" class="fas fa-check" style="color: var(--al-success-color) !important;"></i>'
				} else if ('#cnx_ssh#' === 'KO') {
					el.innerHTML = '<i title="Connexion SSH KO" class="fas fa-times-circle" style="color: var(--al-danger-color) !important;"></i>'
				}
			})()
			</script>
			<span class="cmd" id="iconCron#id#"></span>
			<script>
			(() => {
				'use strict'
				const el = document.getElementById('iconCron#id#')
				if (!el) return
				
				const status = '#cron_status#'
				const isCustom = '#cron_status_custom#' === '1'
				
				if (status === '1') {
				const color = isCustom ? 'var(--al-warning-color)' : 'var(--al-success-color)'
				const label = isCustom ? 'Cron ON (Custom)' : 'Cron ON (Default)'
				el.innerHTML = `<i title="${label}" class="fas fa-play-circle tooltips" style="display: #cron_status_display#;color: ${color} !important;"></i>`
			} else if (status === '0') {
				const color = isCustom ? 'var(--al-warning-color)' : 'var(--al-danger-color)'
					const label = isCustom ? 'Cron OFF (Custom)' : 'Cron OFF (Default)'
					el.innerHTML = `<i title="${label}" class="cmd fas fa-pause-circle tooltips" style="display: #cron_status_display#;color: ${color} !important;"></i>`
				}
			})()
			</script>
			<span class="cmd" id="iconCheckFirmware#id#"></span>
			<script>
			(() => {
				'use strict'
				const el = document.getElementById('iconCheckFirmware#id#')
				if (!el) return
				
				if ('#asus_fw_check#' === '1') {
					el.innerHTML = '<i title="Check du Firmware :: 1" class="fas fa-bell" style="display: #asus_fw_check_display#;color: var(--al-success-color) !important;"></i>'
				} else if ('#asus_fw_check#' === '0') {
					el.innerHTML = '<i title="Check du Firmware :: 0" class="fas fa-bell-slash" style="display: #asus_fw_check_display#;color: var(--al-danger-color) !important;"></i>'
				}
			})()
			</script>
			<span class="cmd action reboot cursor" title="Redémarrer l'équipement" data-type="action" data-subtype="other" data-cmd_id="#cmd_reboot_id#" style="display: #cmd_reboot_display#;">
				<i class="fas fa-redo"></i>
			</span>
			<script>
			(() => {
				'use strict'
				const btn = document.querySelector('.reboot[data-cmd_id="#cmd_reboot_id#"]')
				if (!btn) return
				
				btn.addEventListener('click', () => {
					if (confirm("Etes-vous sûr de vouloir redémarrer l'équipement #name# ?")) {
						jeedom.cmd.execute({ id: '#cmd_reboot_id#' })
					}
				})
			})()
			</script>
			</script>
		</span>
		<span class="monitor-name-center">
			<span class="widget-name">
				<span>#name_display#</span>
			</span>
		</span>
		<span class="monitor-name-right">
			<span class="cmd refresh cursor" data-cmd_id="#refresh_id#">
				<i class="fas fa-sync"></i>
			</span>
			<script>
			(() => {
				'use strict'
				const btn = document.querySelector('.eqLogic[data-eqLogic_uid="#uid#"] .refresh')
				if (!btn) return
				
				if ('#refresh_id#' !== '') {
					btn.addEventListener('click', () => {
						jeedom.cmd.execute({ id: '#refresh_id#' })
					})
				} else {
					btn.remove()
				}
			})()
			</script>
		</span>
	</span>
	<div class="monitor-cmds">
		<div class="tooltips" style="display: #distri_name_display#;">
			<span title="Distribution AsusWRT || Date valeur : #distri_name_value# || Date collecte : #distri_name_collect#" style="width:15px;max-width:15px;max-height:15px;">#distri_name_icon#</span>
			<span>#distri_name#</span>
		</div>
		<div class="tooltips" style="display: #uptime_display#;">
			<span title="Temps d'Activité (UpTime) || Date valeur : #uptime_value# || Date collecte : #uptime_collect#" style="width:15px;max-width:15px;max-height:15px;">#uptime_icon#</span>
			<span id="uptime#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('uptime#id#')
			if (!el) return
			
			el.innerHTML = '<span>#uptime#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #load_avg_display#;">
			<span title="Charge système (load average) || Date valeur : #load_avg_value# || Date collecte : #load_avg_collect#" style="width:15px;max-width:15px;max-height:15px;">#load_avg_icon#</span>
			<span id="load_avg_1mn#id#"></span><span id="load_avg_5mn#id#"></span><span id="load_avg_15mn#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const buildThresholdHTML = (value, low, high, label) => {
				if (value === '') return '<span></span>'
				
				const val = parseFloat(value)
				let color = ''
				
				if (val < parseFloat(low)) color = ' style="color: var(--al-success-color) !important;"'
				else if (val >= parseFloat(low) && val <= parseFloat(high)) color = ' style="color: var(--al-warning-color) !important;"'
				else if (val > parseFloat(high) && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
				
				return `${label} : <span class="state"${color}>${value}</span>`
			}
			
			const el1 = document.getElementById('load_avg_1mn#id#')
			const el5 = document.getElementById('load_avg_5mn#id#')
			const el15 = document.getElementById('load_avg_15mn#id#')
			
			if (el1) el1.innerHTML = buildThresholdHTML('#load_avg_1mn#', '#load_avg_1mn_colorlow#', '#load_avg_1mn_colorhigh#', '1 min')
			if (el5) el5.innerHTML = buildThresholdHTML('#load_avg_5mn#', '#load_avg_5mn_colorlow#', '#load_avg_5mn_colorhigh#', ' - 5 min')
			if (el15) el15.innerHTML = buildThresholdHTML('#load_avg_15mn#', '#load_avg_15mn_colorlow#', '#load_avg_15mn_colorhigh#', ' - 15 min')
		})()
		</script>
		<div class="tooltips" style="display: #memory_display#;">
			<span title="Mémoire Vive (% Disponible) || Date valeur : #memory_value# || Date collecte : #memory_collect#" style="width:15px;max-width:15px;max-height:15px;">#memory_icon#</span>
			<span id="memory_available_percent#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('memory_available_percent#id#')
			if (!el) return
			
			const value = '#memory_available_percent#'
			if (value === '') {
				el.innerHTML = '<span>#memory#</span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#memory_available_percent_colorlow#')
			const high = parseFloat('#memory_available_percent_colorhigh#')
			
			let color = ''
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `#memory# (<span class="state"${color}>${value}</span><span>%</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #swap_display#;">
			<span title="Mémoire Swap (% Libre) || Date valeur : #swap_value# || Date collecte : #swap_collect#" style="width:15px;max-width:15px;max-height:15px;">#swap_icon#</span>
			<span id="swap_free_percent#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('swap_free_percent#id#')
			if (!el) return
			
			const value = '#swap_free_percent#'
			if (value === '') {
				el.innerHTML = '<span>#swap#</span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#swap_free_percent_colorlow#')
			const high = parseFloat('#swap_free_percent_colorhigh#')
			
			let color = ''
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `#swap# (<span class="state"${color}>${value}</span><span>%</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #network_infos_display#;">
			<span title="Infos Réseau || Date valeur : #network_infos_value# || Date collecte : #network_infos_collect#" style="width:15px;max-width:15px;max-height:15px;">#network_infos_icon#</span>
			<span id="network_infos#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('network_infos#id#')
			if (!el) return
			
			el.innerHTML = '<span>#network_infos#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #network_display#;">
			<span title="Trafic Réseau (#network_name# / #network_ip#) || Date valeur : #network_value# || Date collecte : #network_collect#" style="width:15px;max-width:15px;max-height:15px;">#network_icon#</span>
			<span id="network#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('network#id#')
			if (!el) return
			
			el.innerHTML = '<span>#network#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #asus_clients_display#;">
			<span title="Infos Clients || Date de valeur : #asus_clients_value# || Date de collecte : #asus_clients_collect#" style="width:15px;max-width:15px;max-height:15px;">#asus_clients_icon#</span>
			<span id="asus_clients#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('asus_clients#id#')
			if (!el) return
			
			el.innerHTML = '<span>#asus_clients#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #asus_wan0_ip_display#;">
			<span title="Infos Internet (WAN) || Date valeur : #asus_wan0_ip_value# || Date collecte : #asus_wan0_ip_collect#" style="width:15px;max-width:15px;max-height:15px;">#asus_wan0_ip_icon#</span>
			<span id="asus_wan0_ip#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('asus_wan0_ip#id#')
			if (!el) return
			
			el.innerHTML = '<span>IP (WAN) : #asus_wan0_ip#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #asus_wifi_temp_display#;">
			<span title="Infos Températures WiFi || Date valeur : #asus_wifi_temp_value# || Date collecte : #asus_wifi_temp_collect#" style="width:15px;max-width:15px;max-height:15px;">#asus_wifi_temp_icon#</span>
			<span id="asus_wifi_temp#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('asus_wifi_temp#id#')
			if (!el) return
			
			el.innerHTML = '<span>#asus_wifi_temp#</span>'
		})()
		</script>
		<div class="tooltips" style="display: #hdd_display#;">
			<span title="Espace disque (% Libre) || Date valeur : #hdd_value# || Date collecte : #hdd_collect#" style="width:15px;max-width:15px;max-height:15px;">#hdd_icon#</span>
			<span id="hdd#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('hdd#id#')
			if (!el) return
			
			const value = '#hdd_free_percent#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#hdd_free_percent_colorlow#')
			const high = parseFloat('#hdd_free_percent_colorhigh#')
			
			let color = ''
			if (val > high && high !== '') color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val < low) color = ' style="color: var(--al-danger-color) !important;"'
			
			el.innerHTML = `#hdd# (<span class="state"${color}>${value}</span><span>%</span>)`
		})()
		</script>
		<div class="tooltips" style="display: #cpu_display#;">
			<span title="Nombre CPU - Fréquence (Température) || Date valeur : #cpu_value# || Date collecte : #cpu_collect#" style="width:15px;max-width:15px;max-height:15px;">#cpu_icon#</span>
			<span id="cpu#id#"></span><span id="cpu_temp#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const cpuEl = document.getElementById('cpu#id#')
			const tempEl = document.getElementById('cpu_temp#id#')
			if (!cpuEl || !tempEl) return
			
			const temp = '#cpu_temp#'
			if (temp !== '' && '#cpu_temp_display#' === 'block') {
				cpuEl.innerHTML = '<span>#cpu# </span>'
				
				const tempVal = parseFloat(temp)
				const low = parseFloat('#cpu_temp_colorlow#')
				const high = parseFloat('#cpu_temp_colorhigh#')
				
				let color = ''
				if (tempVal < low) color = ' style="color: var(--al-success-color) !important;"'
				else if (tempVal >= low && tempVal <= high) color = ' style="color: var(--al-warning-color) !important;"'
				else if (tempVal > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
				
				tempEl.innerHTML = ` (<span class="state"${color}>${temp}</span><span>°C</span>)`
			} else {
				cpuEl.innerHTML = '<span>#cpu#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #perso1_display#;">
			<span title="#perso1_name# || Date valeur : #perso1_value# || Date collecte : #perso1_collect#" style="width:15px;max-width:15px;max-height:15px;">#perso1_icon#</span>
			<span id="perso1_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso1_unite#id#')
			if (!el) return
			
			const value = '#perso1#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso1_colorlow#')
			const high = parseFloat('#perso1_colorhigh#')
			
			let color = ''
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			if (color) {
				el.innerHTML = `<span class="state"${color}>${value}</span><span>#perso1_unite#</span>`
			} else {
				el.innerHTML = '<span>' + value + '</span><span>#perso1_unite#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #perso2_display#;">
			<span title="#perso2_name# || Date valeur : #perso2_value# || Date collecte : #perso2_collect#" style="width:15px;max-width:15px;max-height:15px;">#perso2_icon#</span>
			<span id="perso2_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso2_unite#id#')
			if (!el) return
			
			const value = '#perso2#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso2_colorlow#')
			const high = parseFloat('#perso2_colorhigh#')
			
			let color = ''
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			if (color) {
				el.innerHTML = `<span class="state"${color}>${value}</span><span>#perso2_unite#</span>`
			} else {
				el.innerHTML = '<span>' + value + '</span><span>#perso2_unite#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #perso3_display#;">
			<span title="#perso3_name# || Date valeur : #perso3_value# || Date collecte : #perso3_collect#" style="width:15px;max-width:15px;max-height:15px;">#perso3_icon#</span>
			<span id="perso3_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso3_unite#id#')
			if (!el) return
			
			const value = '#perso3#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso3_colorlow#')
			const high = parseFloat('#perso3_colorhigh#')
			
			let color = ''
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			if (color) {
				el.innerHTML = `<span class="state"${color}>${value}</span><span>#perso3_unite#</span>`
			} else {
				el.innerHTML = '<span>' + value + '</span><span>#perso3_unite#</span>'
			}
		})()
		</script>
		<div class="tooltips" style="display: #perso4_display#;">
			<span title="#perso4_name# || Date valeur : #perso4_value# || Date collecte : #perso4_collect#" style="width:15px;max-width:15px;max-height:15px;">#perso4_icon#</span>
			<span id="perso4_unite#id#"></span>
		</div>
		<script>
		(() => {
			'use strict'
			if ('#cnx_ssh#' !== 'OK' && '#cnx_ssh#' !== 'No') return
			
			const el = document.getElementById('perso4_unite#id#')
			if (!el) return
			
			const value = '#perso4#'
			if (value === '') {
				el.innerHTML = '<span></span>'
				return
			}
			
			const val = parseFloat(value)
			const low = parseFloat('#perso4_colorlow#')
			const high = parseFloat('#perso4_colorhigh#')
			
			let color = ''
			if (val < low) color = ' style="color: var(--al-success-color) !important;"'
			else if (val >= low && val <= high) color = ' style="color: var(--al-warning-color) !important;"'
			else if (val > high && high !== '') color = ' style="color: var(--al-danger-color) !important;"'
			
			if (color) {
				el.innerHTML = `<span class="state"${color}>${value}</span><span>#perso4_unite#</span>`
			} else {
				el.innerHTML = '<span>' + value + '</span><span>#perso4_unite#</span>'
			}
		})()
		</script>
	</div>
	#divGraphInfo#
</div>
